@model Cinema_Website.Models.Movie




@{
    ViewData["Title"] = "Details";
}
<head>
    <link rel="stylesheet" href="~/css/DetailsPage.css" />
    <link rel="stylesheet" href="~/css/StyleSheetdetails.css" />
</head>
<h1>Details</h1>



<div class="page-single movie-single">
    <div class="container">
        <div class="row ipad-width2">
            <div class="col-md-4 col-sm-12 col-xs-12">
                <div class="movie-img sticky-sb"></div>
                <div class="hmAmmr">
                    <img src="@Model.MovieImage" alt="">
                    <div class="movie-btn">
                        <div class="btn">
                            <div><a href="@Model.MovieTrailer" class="item item-1 btn btn-primary" style="font-size:2rem">Watch Trailer</a></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-8 col-sm-12 col-xs-12">
                <div class="movie-single-ct main-content">
                    <h1 class="bd-hd">@Model.MovieName</h1>

                    <div class="movie-tabs">
                        <div class="tabs">
                            <ul class="tab-links tabs-mv">
                                <li class="active"><a href="#overview">The Plot</a></li>
                            </ul>
                            <div class="tab-content">
                                <div id="overview" class="tab active">
                                    <div class="row">
                                        <div class="col-md-8 col-sm-12 col-xs-12">
                                            <p>@Model.MovieDescription</p>
                                        </div>
                                        <div class="col-md-4 col-xs-12 col-sm-12">

                                            <div class="sb-it">
                                                <h6>Genres:</h6>
                                                <p>@Model.Generes</p>
                                            </div>
                                            <div class="sb-it">
                                                <h6>Release Date:</h6>
                                                <p>@Model.ReleaseDate.Day / @Model.ReleaseDate.Month / @Model.ReleaseDate.Year</p>
                                            </div>
                                            <div class="sb-it">
                                                <h6>Run Time:</h6>
                                                <p>@Model.RunTime<span> min</span></p>
                                            </div>
                                            <div class="sb-it">
                                                <h6>MMPA Rating:</h6>
                                                <p>@Model.MMPARating</p>
                                            </div>
                                            <div class="sb-it">
                                                <h6>Movie Rating:</h6>
                                                <p><span>@Model.MovieRating</span> /10<br></p>
                                            </div>

                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <ul>
                        <li>
                            <h3>Sunday</h3>
                            <hr />
                            @foreach (var item in Model.Events)
                            {
                                if (item.EventDateTime.DayOfWeek.ToString() == "Sunday")
                                {

                                    <div class="btn-group-vertical">
                                        <a asp-controller="Events" asp-action="Details" asp-route-id="@item.EventId" class="btn btn-primary" style="margin:5px">@item.EventDateTime.Hour:@item.EventDateTime.Minute @item.EventDateTime.ToString("tt", System.Globalization.CultureInfo.InvariantCulture)</a>
                                    </div>
                                }
                            }
                        </li>
                        <br />
                        <li>
                            <h3>Monday</h3>
                            <hr />
                            @foreach (var item in Model.Events)
                            {
                                if (item.EventDateTime.DayOfWeek.ToString() == "Monday")
                                {

                                    <div class="btn-group-vertical">
                                        <a asp-controller="Events" asp-action="Details" asp-route-id="@item.EventId" class="btn btn-primary">@item.EventDateTime.Hour:@item.EventDateTime.Minute @item.EventDateTime.ToString("tt", System.Globalization.CultureInfo.InvariantCulture)</a>
                                    </div>
                                }
                            }
                        </li>
                        <br />
                        <li>
                            <h3>Tuesday</h3>
                            <hr />
                            @foreach (var item in Model.Events)
                            {
                                if (item.EventDateTime.DayOfWeek.ToString() == "Tuesday")
                                {

                                    <div class="btn-group-vertical">
                                        <a asp-controller="Events" asp-action="Details" asp-route-id="@item.EventId" class="btn btn-primary">@item.EventDateTime.Hour:@item.EventDateTime.Minute @item.EventDateTime.ToString("tt", System.Globalization.CultureInfo.InvariantCulture)</a>
                                    </div>
                                }
                            }
                        </li>
                        <br />
                        <li>
                            <h3>Wednesday</h3>
                            <hr />
                            @foreach (var item in Model.Events)
                            {
                                if (item.EventDateTime.DayOfWeek.ToString() == "Wednesday")
                                {

                                    <div class="btn-group-vertical">
                                        <a asp-controller="Events" asp-action="Details" asp-route-id="@item.EventId" class="btn btn-primary">@item.EventDateTime.Hour:@item.EventDateTime.Minute @item.EventDateTime.ToString("tt", System.Globalization.CultureInfo.InvariantCulture)</a>
                                    </div>
                                }
                            }
                        </li>
                        <br />
                        <li>
                            <h3>Thursday</h3>
                            <hr />
                            @foreach (var item in Model.Events)
                            {
                                if (item.EventDateTime.DayOfWeek.ToString() == "Thursday")
                                {

                                    <div class="btn-group-vertical">
                                        <a asp-controller="Events" asp-action="Details" asp-route-id="@item.EventId" class="btn btn-primary">@item.EventDateTime.Hour:@item.EventDateTime.Minute @item.EventDateTime.ToString("tt", System.Globalization.CultureInfo.InvariantCulture)</a>
                                    </div>
                                }
                            }
                        </li>
                        <br />
                        <li>
                            <h3>Friday</h3>
                            <hr />
                            @foreach (var item in Model.Events)
                            {
                                if (item.EventDateTime.DayOfWeek.ToString() == "Friday")
                                {

                                    <div class="btn-group-vertical">
                                        <a asp-controller="Events" asp-action="Details" asp-route-id="@item.EventId" class="btn btn-primary">@item.EventDateTime.Hour:@item.EventDateTime.Minute @item.EventDateTime.ToString("tt", System.Globalization.CultureInfo.InvariantCulture)</a>
                                    </div>
                                }
                            }
                        </li>
                        <br />
                        <li>
                            <h3>Saturday</h3>
                            <hr />
                            @foreach (var item in Model.Events)
                            {
                                if (item.EventDateTime.DayOfWeek.ToString() == "Saturday")
                                {

                                    <div class="btn-group-vertical">
                                        <a asp-controller="Events" asp-action="Details" asp-route-id="@item.EventId" class="btn btn-primary">@item.EventDateTime.Hour:@item.EventDateTime.Minute @item.EventDateTime.ToString("tt", System.Globalization.CultureInfo.InvariantCulture)</a>
                                    </div>
                                }
                            }
                        </li>
                        <br />
                    </ul>
                </div>
            </div>

        </div>
       
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12 text-center">
                <a class="btn btn-primary btn-lg" asp-controller="Movies" asp-action="Index">Back</a>
                <br />
                <br />
                <br />
                @if (SignInManager.IsSignedIn(User))
                {
                    if (UserManager.GetUserAsync(User).Result.Email == "admin@gmail.com")
                    {

                        <h1 class="text-md-center">Admin Control</h1>
                        <br />
                        <a class="btn btn-primary btn-lg" asp-action="Edit" asp-route-id="@Model.MovieId">Edit Movie</a>
                        <a class="btn btn-primary btn-lg" asp-action="Delete" asp-route-id="@Model.MovieId">Delete Movie</a>
                        <a class="btn btn-primary btn-lg" asp-controller="Events" asp-action="Index">Events</a>
                        <a class="btn btn-primary btn-lg" asp-controller="Halls" asp-action="Index">Halls</a>
                        <a class="btn btn-primary btn-lg" asp-controller="OrderTickets" asp-action="Index">Orders</a>

                    }
                }
            </div>
        </div>
    </div>
</div>
